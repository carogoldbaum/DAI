{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport React, { Component, useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport BotonIniciarSesion from \"../Components/BotonIniciarSesion\";\nimport { useNavigation } from '@react-navigation/native';\nimport { PostLogIn } from \"../Axios/AxiosClient\";\nimport { ActionTypes, useContextState } from \"../ContextState\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Login = function Login(_ref) {\n  var navigation = _ref.navigation;\n\n  var _useState = useState({\n    email: 'challenge@alkemy.org',\n    password: 'react'\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userState = _useState2[0],\n      setUserState = _useState2[1];\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      error = _React$useState2[0],\n      setError = _React$useState2[1];\n\n  var _React$useState3 = React.useState(false),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      disable = _React$useState4[0],\n      setDisable = _React$useState4[1];\n\n  var _useContextState = useContextState(),\n      contextState = _useContextState.contextState,\n      setContextState = _useContextState.setContextState;\n\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      style: styles.titulo,\n      children: \"Iniciar Sesion\"\n    }), _jsx(TextInput, {\n      style: styles.input,\n      value: userState.email,\n      placeholder: \"Correo Electronico\",\n      onChangeText: function onChangeText(text) {\n        return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n          email: text\n        }));\n      }\n    }), _jsx(TextInput, {\n      style: styles.input,\n      value: userState.password,\n      placeholder: \"Contrase\\xF1a\",\n      onChangeText: function onChangeText(text) {\n        return setUserState(_objectSpread(_objectSpread({}, userState), {}, {\n          password: text\n        }));\n      }\n    }), error && _jsx(Text, {\n      style: styles.alerta,\n      children: \"Error, datos incorrectos\"\n    }), _jsx(BotonIniciarSesion, {\n      style: {\n        fontSize: 48\n      },\n      disable: disable,\n      text: \"ENVIAR\",\n      onPress: function _callee() {\n        return _regeneratorRuntime.async(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                setDisable(true);\n\n                if (!(userState.email == '' || userState.password == '')) {\n                  _context.next = 5;\n                  break;\n                }\n\n                setError(true);\n                _context.next = 7;\n                break;\n\n              case 5:\n                _context.next = 7;\n                return _regeneratorRuntime.awrap(PostLogIn(userState).then(function (token) {\n                  setDisable(false);\n                  setContextState({\n                    type: ActionTypes.SetToken,\n                    value: token.token\n                  });\n                  navigation.navigate('Home');\n                }).catch(function () {\n                  console.log(\"Datos mal\");\n                  setError(true);\n                  setDisable(false);\n                }));\n\n              case 7:\n                setDisable(false);\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, null, Promise);\n      }\n    })]\n  });\n};\n\nexport default Login;\nvar styles = StyleSheet.create({\n  titulo: {\n    top: '8%',\n    marginLeft: '-13%',\n    fontSize: 34,\n    marginRight: 'auto',\n    marginLeft: 'auto'\n  },\n  input: {\n    fontSize: 18,\n    marginTop: '5%',\n    marginLeft: '0%',\n    width: '80%',\n    borderWidth: 2,\n    padding: '3%',\n    top: '8%'\n  },\n  alerta: {\n    top: '80%',\n    marginLeft: '-13%',\n    fontSize: 34,\n    marginRight: 'auto',\n    marginLeft: 'auto',\n    color: 'red'\n  }\n});","map":{"version":3,"names":["React","Component","useEffect","useState","BotonIniciarSesion","useNavigation","PostLogIn","ActionTypes","useContextState","Login","navigation","email","password","userState","setUserState","error","setError","disable","setDisable","contextState","setContextState","styles","titulo","input","text","alerta","fontSize","then","token","type","SetToken","value","navigate","catch","console","log","StyleSheet","create","top","marginLeft","marginRight","marginTop","width","borderWidth","padding","color"],"sources":["C:/Users/devandroid/Desktop/DAI/TP-DAI-RN/Screens/Login.jsx"],"sourcesContent":["import React, { Component, useEffect, useState } from 'react';\r\nimport { StyleSheet, Text, View, TextInput } from 'react-native';\r\nimport BotonIniciarSesion from \"../Components/BotonIniciarSesion\";\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { PostLogIn } from '../Axios/AxiosClient';\r\nimport { ActionTypes, useContextState } from '../ContextState'\r\n\r\nconst Login = ({ navigation }) => {\r\n\r\n  const [userState, setUserState] = useState({\r\n    email: 'challenge@alkemy.org',\r\n    password: 'react',\r\n  });\r\n\r\n  const [error, setError] = React.useState(false);\r\n  const [disable, setDisable] = React.useState(false);\r\n  const { contextState, setContextState } = useContextState();\r\n\r\n\r\n  return (\r\n\r\n    <View>\r\n\r\n      <Text style={styles.titulo}>Iniciar Sesion</Text>\r\n\r\n      <TextInput\r\n        style={styles.input}\r\n        value={userState.email}\r\n        placeholder=\"Correo Electronico\"\r\n        onChangeText={text => setUserState({ ...userState, email: text })}\r\n      />\r\n\r\n      <TextInput\r\n        style={styles.input}\r\n        value={userState.password}\r\n        placeholder=\"ContraseÃ±a\"\r\n        onChangeText={text => setUserState({ ...userState, password: text })}\r\n      />\r\n      {error && <Text style={styles.alerta}>Error, datos incorrectos</Text>}\r\n\r\n      <BotonIniciarSesion style={{ fontSize: 48 }}\r\n        disable={disable}\r\n        text=\"ENVIAR\"\r\n        onPress={async () => {\r\n          setDisable(true)\r\n          if (userState.email == '' || userState.password == '') {\r\n            setError(true)\r\n          }\r\n          else {\r\n            await PostLogIn(userState).then((token) => {\r\n              setDisable(false)\r\n\r\n              setContextState({\r\n                type: ActionTypes.SetToken,\r\n                value: token.token,\r\n              });\r\n              navigation.navigate('Home')\r\n            })\r\n              .catch(() => {\r\n                console.log(\"Datos mal\")\r\n                setError(true)\r\n                setDisable(false)\r\n              });\r\n\r\n          } setDisable(false)\r\n        }}\r\n      />\r\n    </View>\r\n\r\n  );\r\n}\r\n\r\nexport default Login\r\n\r\nconst styles = StyleSheet.create({\r\n\r\n  titulo: {\r\n    top: '8%',\r\n    marginLeft: '-13%',\r\n    fontSize: 34,\r\n    marginRight: 'auto',\r\n    marginLeft: 'auto',\r\n  },\r\n\r\n  input: {\r\n    fontSize: 18,\r\n    marginTop: '5%',\r\n    marginLeft: '0%',\r\n    width: '80%',\r\n    borderWidth: 2,\r\n    padding: '3%',\r\n    top: '8%',\r\n  },\r\n\r\n  alerta: {\r\n    top: '80%',\r\n    marginLeft: '-13%',\r\n    fontSize: 34,\r\n    marginRight: 'auto',\r\n    marginLeft: 'auto',\r\n    color: 'red',\r\n  },\r\n\r\n});"],"mappings":"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"},"metadata":{},"sourceType":"module"}